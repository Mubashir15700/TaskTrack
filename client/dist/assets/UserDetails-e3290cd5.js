import{r as c,a as x,_ as f,j as e,A as h,S as p}from"./index-9d72eabb.js";import{a as d,u as j}from"./user-7a4b5ded.js";import{I as b}from"./imageUrls-ebc684b3.js";const k=()=>{const[s,n]=c.useState(),[i,l]=c.useState(),{id:o}=x();c.useEffect(()=>{(async()=>{try{const a=await d(o);if(a&&a.status===200&&a.user){const r=a.user;r.location&&Object.values(r.location).length&&(r.location=r.location),n(r)}else l("Failed to fetch user details.")}catch(a){l("An error occurred while fetching user details."),console.error("Error fetching user details:",a)}})()},[o]);const m=async t=>{const a=await p.confirmAction(`${t?"Unblock":"Block"}`,`Are you sure you want to ${t?"Unblock":"Block"} this user?`,`${t?"Unblock":"Block"}`,"#d9534f",`${t?"":"text"}`);a.isConfirmed&&u(a.value)},u=async t=>{try{const a=await j({userId:o,reason:t});if(a)if(a.status===200){const r=await d(o);r&&r.status===200?n(r.user):l("Failed to fetch updated user data.")}else l("Something went wrong")}catch(a){l("Failed to update user"),console.error("user action error: ",a)}};return c.useEffect(()=>{i&&f.error(i)},[i]),e.jsx("div",{className:"col-10 my-3 mx-auto",children:s?e.jsxs("div",{className:"p-3 p-lg-5 border",children:[e.jsx("div",{children:e.jsx("img",{src:s!=null&&s.profile?`https://tasktrack.online/uploads/profile/${s==null?void 0:s.profile}`:b.avatar,alt:"Profile",style:{width:"150px"},className:"rounded-circle mb-2 mx-auto img-fluid"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"form-group row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",className:"form-control",name:"username",value:s==null?void 0:s.username,disabled:!0})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"number",className:"form-control",name:"phone",value:s==null?void 0:s.phone,disabled:!0})]})]}),e.jsx("div",{className:"form-group row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",className:"form-control",name:"email",value:s==null?void 0:s.email,disabled:!0})]})}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Is Verified"}),e.jsx("input",{type:"text",className:"form-control",name:"username",value:s==null?void 0:s.isVerified,disabled:!0})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Is Job Seeker"}),e.jsx("input",{type:"text",className:"form-control",name:"phone",value:s==null?void 0:s.isJobSeeker,disabled:!0})]})]}),e.jsx("div",{className:"col-md-12",children:e.jsx(h,{label:"Lives In",currentAddress:s.location,usage:"admin"})}),e.jsx("button",{className:`btn ${s.isBlocked?"btn-warning":"btn-danger"} mt-3`,onClick:()=>m(s.isBlocked),children:s.isBlocked?"Unblock":"Block"})]})]}):e.jsx("div",{className:"mt-5 mx-auto",children:e.jsx("p",{children:"No data found"})})})};export{k as default};
