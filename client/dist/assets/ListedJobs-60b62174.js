import{u as m,r as a,j as s,D as g}from"./index-9d72eabb.js";import{I as p}from"./index.es-72e89bd5.js";import{J as h}from"./Job-6ce98f73.js";import"./imageUrls-ebc684b3.js";const j=()=>{const n=m(t=>t.user.userData._id),[o,c]=a.useState([]),[i,l]=a.useState(1),[d,u]=a.useState(0),r=async()=>{try{const t=await g(n,i);t&&t.status===200&&(c(e=>[...e,...t.jobs]),l(e=>e+1),u(t.totalPages))}catch(t){console.log(t)}};return a.useEffect(()=>{r()},[]),s.jsxs("div",{className:"col-10 mx-auto my-3",children:[s.jsx("h3",{className:"mb-4",children:"Your Listed Jobs"}),o.length?s.jsx(p,{dataLength:o.length,hasMore:i<=d,loader:s.jsx("div",{children:"Hang on, loading content..."}),next:()=>r(),children:o.map((t,e)=>s.jsx("div",{className:"card mb-3",children:s.jsx(h,{isListed:!0,title:t.title,description:t.description,village:t.location.village,district:t.location.district,postedAt:t.postedAt,status:t.status,id:t._id})},e))}):s.jsx("div",{children:"You haven't listed any jobs yet"})]})};export{j as default};
