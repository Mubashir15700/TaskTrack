import{r as t,_ as q,j as o,L as b}from"./index-e0af1eab.js";import{T as f}from"./TableDataDisplay-dc0800c3.js";import{g as P}from"./request-a53e0479.js";import"./Pagination-81abe27a.js";const w=()=>{const[c,l]=t.useState([]),[a,n]=t.useState(),[u,i]=t.useState(0),[m,g]=t.useState(0),[r,d]=t.useState(2);t.useEffect(()=>{(async()=>{try{const s=await P(r,u);s&&s.status===200?(l(s.requests),g(s.totalPages)):n("Failed to fetch requests data.")}catch(s){n("An error occurred while fetching requests data."),console.error("Error fetching requests data:",s)}})()},[u,r]),t.useEffect(()=>{a&&q.error(a)},[a]);const p={heading:"Requests",itemsPerPage:r,onItemsPerPageChange:e=>d(e),dataTableColumns:[{name:"Requested On",selector:e=>new Date(e.createdAt).toLocaleString(),sortable:!0},{name:"Subject",selector:()=>"To become a laborer",sortable:!0},{name:"Status",selector:e=>e.status,sortable:!0},{name:"Actions",width:"190px",cell:e=>o.jsx("div",{className:"d-flex gap-2",children:o.jsx(b,{to:`/admin/laborer-requests/view-request-details/${e._id}`,className:"btn btn-primary",children:"View"})})}],dataTableData:c,pageCount:m,onPageChange:({selected:e})=>i(e)};return o.jsx(f,{...p})};export{w as default};
