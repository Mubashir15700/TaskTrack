import{r as s,u as d,_ as P,j as f,c as S}from"./index-4386c688.js";import{T as h}from"./TableDataDisplay-332051d2.js";import"./Pagination-413906e9.js";const E=()=>{const[u,n]=s.useState([]),[r,c]=s.useState(),[i,l]=s.useState(0),[p,m]=s.useState(0),[a,b]=s.useState(2),o=d(e=>e.admin.searchResults);s.useEffect(()=>{const e=async()=>{try{const t=await S(a,i);t&&t.status===200&&t.subscriptions?(n(t.subscriptions),m(t.totalPages)):c("Failed to fetch subscriptions data.")}catch(t){c("An error occurred while fetching subscriptions data."),console.error("Error fetching subscriptions data:",t)}};o.searchOn==="subscriptions"?n(o.results):e()},[i,o,a]),s.useEffect(()=>{r&&P.error(r)},[r]);const g={heading:"Subscriptions",itemsPerPage:a,onItemsPerPageChange:e=>b(e),dataTableColumns:[{name:"Created At",selector:e=>new Date(e.createdAt).toLocaleString(),sortable:!0},{name:"User",selector:e=>e.username,sortable:!0},{name:"Plan",selector:e=>e.planName,sortable:!0},{name:"Amount",selector:e=>e.amount,sortable:!0},{name:"Type",selector:e=>e.type,sortable:!0},{name:"Is Active",selector:e=>e.isActive,sortable:!0,cell:e=>e.isActive?"Yes":"No"}],dataTableData:u,pageCount:p,onPageChange:({selected:e})=>l(e)};return f.jsx(h,{...g})};export{E as default};
